<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>숨은 사진 스팟 - 미리보기</title>
  <style>
    :root{--primary:#1976d2;--muted:#e3f2fd;--bg:#f5f7fb}
    body{font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif; margin:0; background:var(--bg);-webkit-font-smoothing:antialiased}
    header{background:var(--primary);color:white;padding:14px 16px}
    .container{max-width:980px;margin:12px auto;padding:0 12px}
    .nav{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0;align-items:center}
    .nav button{padding:8px 12px;border:0;background:var(--muted);border-radius:8px;cursor:pointer}
    .nav input{flex:1;min-width:140px}
    .view{background:white;border-radius:12px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
    .list .card{display:flex;gap:12px;padding:12px;border-bottom:1px solid #f0f0f0;align-items:center}
    .card img{width:140px;height:90px;object-fit:cover;border-radius:8px}
    .card h3{margin:0;font-size:16px}
    .card p{margin:6px 0;color:#444}
    .tags{color:var(--primary);font-size:13px}
    .map-placeholder{height:360px;background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=1600');background-size:cover;background-position:center;border-radius:8px}
    .detail img{width:100%;height:260px;object-fit:cover;border-radius:8px}
    .chip{display:inline-block;background:#f2f6fb;padding:6px 10px;border-radius:18px;margin:6px 6px 0 0;font-size:13px;color:#111}
    .btn{display:inline-block;padding:8px 12px;background:var(--primary);color:white;border-radius:8px;text-decoration:none}
    footer{font-size:13px;color:#666;margin-top:12px}

    /* Responsive */
    @media (max-width:720px){
      .container{margin:8px}
      .card{flex-direction:row}
      .card img{width:100px;height:72px}
      .nav{gap:6px}
      .nav button{padding:8px}
      .view{padding:10px}
      .map-placeholder{height:220px}
      .detail img{height:220px}
      .btn{padding:10px 14px;font-size:14px}
    }

    @media (max-width:420px){
      .nav{flex-direction:column;align-items:stretch}
      .nav input{width:100%;margin-top:6px}
      .card{flex-direction:column;align-items:flex-start}
      .card img{width:100%;height:160px;border-radius:8px}
      .tags{display:block}
      .map-placeholder{height:180px}
      .detail img{height:180px}
      .chip{font-size:12px;padding:6px 8px}
    }
  </style>
</head>
<body>
  <header>
    <strong>숨은 사진 스팟</strong>
  </header>
  <div class="container">
    <div class="nav">
        <button onclick="show('map')">지도</button>
        <button onclick="show('list')">목록</button>
        <button onclick="show('detail')">상세(예시)</button>
        <input id="searchInput" placeholder="검색 또는 #태그 입력" style="margin-left:8px;padding:8px;border-radius:6px;border:1px solid #ddd;width:260px" oninput="onSearch(this.value)">
    </div>

    <div id="mapView" class="view map-view" style="display:none">
      <div class="map-placeholder"></div>
      <p style="margin-top:8px">현재 위치 기준 가까운 숨은 포토존을 지도에 표시합니다. (미리보기: 정적 이미지)</p>
    </div>

    <div id="listView" class="view list" style="display:none">
      <div id="listContainer"></div>
    </div>

    <div id="detailView" class="view detail" style="display:none">
      <img id="detailImage" src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=1200" alt="detail">
      <h2>숨은 언덕 전망대</h2>
      <p>노을이 아름다운 조용한 전망대입니다. 광각 렌즈 추천, 골든아워(17:30-18:15)에 방문하세요.</p>
      <div>
        <span class="chip">광각 추천</span>
        <span class="chip">골든아워</span>
        <span class="chip">주차 가능</span>
      </div>
      <div style="margin-top:12px">
        <a class="btn" href="#" onclick="alert('지도에서 보기 (실제 앱에서는 지도 호출)')">지도에서 보기</a>
        <a class="btn" href="#" style="background:#4caf50;margin-left:8px" onclick="document.getElementById('uploadInput').click()">사진 업로드</a>
        <input id="uploadInput" type="file" accept="image/*" style="display:none" onchange="onFileSelected(event)">
      </div>

      <hr style="margin-top:18px">
      <h3>리뷰</h3>
      <div id="reviewsList">
        <div><strong>익명</strong> — 사람이 거의 없었어요. 안전하고 편안한 곳.</div>
        <div><strong>사용자A</strong> — 골든아워에 가면 정말 예쁩니다!</div>
      </div>
    </div>

    <footer>
      이 페이지는 코드에서 생성된 프로토타입 미리보기입니다. 실제 앱은 Flutter로 빌드되어 모바일/데스크탑/웹에서 동작합니다.
    </footer>
  </div>

  <script>
    // Data model for preview
    const spots = [
      {
        id: 's1',
        name: '숨은 언덕 전망대',
        desc: '작은 언덕 위의 감성 전망대. 노을이 예쁜 곳.',
        tags: ['#노을','#언덕','#야경'],
        img: 'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=1200'
      },
      {
        id: 's2',
        name: '낡은 카페 골목',
        desc: '빈티지 감성의 골목 카페들, 포토스팟이 곳곳에 있음.',
        tags: ['#감성카페','#빈티지','#골목'],
        img: 'https://images.unsplash.com/photo-1493666438817-866a91353ca9?w=1200'
      },
      {
        id: 's3',
        name: '한적한 강변 산책로',
        desc: '사람이 적고 강변 뷰가 좋은 포인트.',
        tags: ['#자연','#산책로','#강변'],
        img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1200'
      }
    ];

    let currentSpot = spots[0];

    function renderList(filter=''){
      const container = document.getElementById('listContainer');
      container.innerHTML = '';
      const q = filter.trim().toLowerCase();
      const filtered = spots.filter(s => {
        if(!q) return true;
        if(s.name.toLowerCase().includes(q)) return true;
        if(s.desc.toLowerCase().includes(q)) return true;
        if(s.tags.join(' ').toLowerCase().includes(q)) return true;
        return false;
      });
      for(const s of filtered){
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img src="${s.img}" alt="${s.name}">
          <div>
            <h3>${s.name}</h3>
            <p>${s.desc}</p>
            <div class="tags">${s.tags.join(' ')}</div>
          </div>`;
        card.onclick = ()=>{ showDetail(s) };
        container.appendChild(card);
      }
    }

    function onSearch(v){
      renderList(v);
    }

    function show(view){
      document.getElementById('mapView').style.display = (view==='map') ? 'block' : 'none';
      document.getElementById('listView').style.display = (view==='list') ? 'block' : 'none';
      document.getElementById('detailView').style.display = (view==='detail') ? 'block' : 'none';
      if(view==='list') renderList(document.getElementById('searchInput').value||'');
    }

    function showDetail(spot){
      currentSpot = spot;
      document.getElementById('detailImage').src = spot.img;
      document.querySelector('#detailView h2').innerText = spot.name;
      document.querySelector('#detailView p').innerText = spot.desc;
      // update chips
      const chips = spot.tags.map(t=>`<span class="chip">${t}</span>`).join(' ');
      document.querySelector('#detailView div').innerHTML = chips;
      // clear reviews list and add default
      const reviews = document.getElementById('reviewsList');
      reviews.innerHTML = '<div><strong>익명</strong> — 사람이 거의 없었어요. 안전하고 편안한 곳.</div>';
      show('detail');
    }

    function onFileSelected(e){
      const file = e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = function(ev){
        const data = ev.target.result;
        // simulate upload by adding to reviews as image
        const reviews = document.getElementById('reviewsList');
        const div = document.createElement('div');
        div.style.marginTop = '8px';
        div.innerHTML = `<div><strong>내 사진</strong></div><img src="${data}" style="max-height:160px;border-radius:6px;margin-top:6px">`;
        reviews.prepend(div);
        alert('미리보기: 사진이 업로드된 것처럼 리뷰에 추가되었습니다 (실제 업로드는 서버 연동 필요).');
      };
      reader.readAsDataURL(file);
      // reset input so same file can be selected again
      e.target.value = '';
    }

    // initial render
    renderList();
    show('list');
  </script>
</body>
</html>
